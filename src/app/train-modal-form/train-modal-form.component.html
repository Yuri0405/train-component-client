<!-- train-modal-form.component.html -->
<div class="modal-header">
  <h3>{{ isEditMode ? 'Edit Component' : 'Add New Component' }}</h3>
  <button type="button" class="close-button" (click)="onClose()">Ã—</button>
</div>

<form [formGroup]="componentForm" (ngSubmit)="onSubmit()">
  <div class="modal-body">
    <div class="form-group">
      <label>Name</label>
      <input formControlName="name" type="text" class="form-control" />
      <div *ngIf="componentForm.get('name')?.invalid && componentForm.get('name')?.touched"
           class="text-danger">
        Name is required.
      </div>
    </div>

    <div class="form-group">
      <label>Unique Number</label>
      <input formControlName="uniqueNumber" type="text" class="form-control" />
      <div *ngIf="componentForm.get('uniqueNumber')?.invalid && componentForm.get('uniqueNumber')?.touched"
           class="text-danger">
        Unique Number is required.
      </div>
    </div>

    <div class="form-group">
      <label>
        <input formControlName="canAssignQuantity" type="checkbox" />
        Can Assign Quantity?
      </label>
    </div>

    <div class="form-group" *ngIf="componentForm.get('canAssignQuantity')?.value">
      <label>Quantity</label>
      <input formControlName="quantity" type="number" min="1" class="form-control" />
      <div *ngIf="componentForm.get('quantity')?.invalid && componentForm.get('quantity')?.touched"
           class="text-danger">
        Quantity must be at least 1.
      </div>
    </div>
  </div>

  <div class="modal-footer">
    <button type="submit"
            class="btn btn-primary"
            [disabled]="componentForm.invalid || isSubmitting">
      {{ isEditMode ? 'Update' : 'Create' }}
    </button>
    <button type="button" class="btn btn-secondary" (click)="onClose()">Cancel</button>
  </div>
</form>
